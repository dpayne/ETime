package com.etrade.etime;

import android.util.Log;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

/**
 * Created by IntelliJ IDEA.
 * User: dpayne2
 * Date: 1/5/12
 * Time: 3:16 PM
 * To change this template use File | Settings | File Templates.
 */
class ETimeUtils {
    private static final String TAG = "ETimeUtils-4321";
    protected static String getHtmlPage(DefaultHttpClient client, String url) {
        HttpResponse response;
        HttpGet httpGet;
        BufferedReader in = null;
        String page = null;

        try {
            httpGet = new HttpGet(url);

            response = client.execute(httpGet);

            in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));

            StringBuilder sb = new StringBuilder("");
            String line = "";
            String NL = System.getProperty("line.separator");

            while ((line = in.readLine()) != null) {
                sb.append(line).append(NL);
            }

            in.close();
            page = sb.toString();

        } catch (Exception e) {
            Log.v(TAG, e.toString());
        } finally {
            if (in != null) {
                try {
                    in.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }

        return page;
    }

}
